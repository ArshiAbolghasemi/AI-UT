<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>0a47ad4360664673ad0d3fb78793b7cc</title>
  <style>
    html {
      line-height: 1.5;
      font-family: Georgia, serif;
      font-size: 20px;
      color: #1a1a1a;
      background-color: #fdfdfd;
    }
    body {
      margin: 0 auto;
      max-width: 36em;
      padding-left: 50px;
      padding-right: 50px;
      padding-top: 50px;
      padding-bottom: 50px;
      hyphens: auto;
      overflow-wrap: break-word;
      text-rendering: optimizeLegibility;
      font-kerning: normal;
    }
    @media (max-width: 600px) {
      body {
        font-size: 0.9em;
        padding: 1em;
      }
      h1 {
        font-size: 1.8em;
      }
    }
    @media print {
      body {
        background-color: transparent;
        color: black;
        font-size: 12pt;
      }
      p, h2, h3 {
        orphans: 3;
        widows: 3;
      }
      h2, h3, h4 {
        page-break-after: avoid;
      }
    }
    p {
      margin: 1em 0;
    }
    a {
      color: #1a1a1a;
    }
    a:visited {
      color: #1a1a1a;
    }
    img {
      max-width: 100%;
    }
    h1, h2, h3, h4, h5, h6 {
      margin-top: 1.4em;
    }
    h5, h6 {
      font-size: 1em;
      font-style: italic;
    }
    h6 {
      font-weight: normal;
    }
    ol, ul {
      padding-left: 1.7em;
      margin-top: 1em;
    }
    li > ol, li > ul {
      margin-top: 0;
    }
    blockquote {
      margin: 1em 0 1em 1.7em;
      padding-left: 1em;
      border-left: 2px solid #e6e6e6;
      color: #606060;
    }
    code {
      font-family: Menlo, Monaco, 'Lucida Console', Consolas, monospace;
      font-size: 85%;
      margin: 0;
    }
    pre {
      margin: 1em 0;
      overflow: auto;
    }
    pre code {
      padding: 0;
      overflow: visible;
      overflow-wrap: normal;
    }
    .sourceCode {
     background-color: transparent;
     overflow: visible;
    }
    hr {
      background-color: #1a1a1a;
      border: none;
      height: 1px;
      margin: 1em 0;
    }
    table {
      margin: 1em 0;
      border-collapse: collapse;
      width: 100%;
      overflow-x: auto;
      display: block;
      font-variant-numeric: lining-nums tabular-nums;
    }
    table caption {
      margin-bottom: 0.75em;
    }
    tbody {
      margin-top: 0.5em;
      border-top: 1px solid #1a1a1a;
      border-bottom: 1px solid #1a1a1a;
    }
    th {
      border-top: 1px solid #1a1a1a;
      padding: 0.25em 0.5em 0.25em 0.5em;
    }
    td {
      padding: 0.125em 0.5em 0.25em 0.5em;
    }
    header {
      margin-bottom: 4em;
      text-align: center;
    }
    #TOC li {
      list-style: none;
    }
    #TOC ul {
      padding-left: 1.3em;
    }
    #TOC > ul {
      padding-left: 0;
    }
    #TOC a:not(:hover) {
      text-decoration: none;
    }
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { color: #008000; } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { color: #008000; font-weight: bold; } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<div class="cell markdown" data-colab_type="text" id="view-in-github">
<p><a href="https://colab.research.google.com/github/ArshiAbolghasemi/AI-UT/blob/main/genetic_algorithms/knapsack_problem.ipynb" target="_parent"><img src="https://colab.research.google.com/assets/colab-badge.svg" alt="Open In Colab"/></a></p>
</div>
<section id="knapsack-problem" class="cell markdown" id="nKlhD_h4qzx4">
<h1>Knapsack Problem</h1>
<p>In this project we're going to solve our knapsack problem using
<strong>Genetic Algorithm</strong></p>
<h2 id="problem-description">Problem Description</h2>
<p>Consider that we have a knapsack, and we want to go on a picnic. We
have some snacks that we want to take with us. Each snack has a value,
and we also have a certain amount of each snack that we can take as much
as we want. It's obvious that if we take half of a snack, we will have
half its value. Also there is some constraints:</p>
<ul>
<li>The sum of the values of our snacks shouldn't exceed a special
amount that is given to us.</li>
<li>The number of snacks that we pick should be within the interval that
is given to us.</li>
<li>The amount of the chosen snack shouldn't exceed the available amount
of it.</li>
</ul>
<p>The snack data is located in snacks.csv in the current directory.</p>
</section>
<section id="settings-and-imports" class="cell markdown"
id="k6DVDoLt4kDT">
<h1>Settings And Imports</h1>
</section>
<div class="cell code" data-execution_count="206" id="zM7Dkmi34nh1">
<div class="sourceCode" id="cb1"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co">#imports</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> typing <span class="im">import</span> List, Union</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> os</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> csv</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> random</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> functools <span class="im">import</span> <span class="bu">reduce</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> sys</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="co">#settings</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>MAXIMUM_SNACKS_WEIGTHS<span class="op">=</span><span class="dv">160</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>MINIMUM_SNACKS_VALUES<span class="op">=</span><span class="dv">120</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>MINIMUM_SNACKS_COUNT<span class="op">=</span><span class="dv">10</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>MAXIMUM_SNACKS_COUNT<span class="op">=</span><span class="dv">20</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>POPULATION_SIZE<span class="op">=</span><span class="dv">200</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>GENERATIONS_COUNT<span class="op">=</span><span class="dv">1000</span></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>CROSSOVER_RATE<span class="op">=</span><span class="fl">0.9</span></span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a>MUTATION_RATE<span class="op">=</span><span class="fl">0.1</span></span></code></pre></div>
</div>
<section id="inputs" class="cell markdown" id="8L6Yk1tx5Si_">
<h1>Inputs</h1>
<p>First, lets read input datas from snacks.csv file</p>
</section>
<div class="cell code" data-execution_count="203" id="ZxBI6wes5d89">
<div class="sourceCode" id="cb2"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>CURRENT_DIR <span class="op">=</span> os.getcwd()</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>SNACKS_CSV_FILE_PATH <span class="op">=</span> os.path.join(CURRENT_DIR, <span class="st">&#39;snacks.csv&#39;</span>)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>snacks <span class="op">=</span> []</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>snacks_available_weight <span class="op">=</span> {}</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>snacks_values <span class="op">=</span> {}</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> <span class="bu">open</span>(SNACKS_CSV_FILE_PATH, mode<span class="op">=</span><span class="st">&#39;r&#39;</span>) <span class="im">as</span> snacks_file:</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>    snakcs_csv_reader <span class="op">=</span> csv.reader(snacks_file)</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>    <span class="bu">next</span>(snakcs_csv_reader)</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> row <span class="kw">in</span> snakcs_csv_reader:</span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>      snack <span class="op">=</span> row[<span class="dv">0</span>]</span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>      snacks.append(snack)</span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>      snacks_available_weight[snack] <span class="op">=</span> <span class="bu">float</span>(row[<span class="dv">1</span>])</span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>      snacks_values[snack] <span class="op">=</span> <span class="bu">float</span>(row[<span class="dv">2</span>])</span></code></pre></div>
</div>
<section id="gene-and-chromosme" class="cell markdown"
id="1O5vL5dc45HV">
<h1>Gene And Chromosme</h1>
<p>First, we need a definition for our gene and then using that creating
a chromosome, that is a potential solution to our problem.</p>
</section>
<section id="gene" class="cell markdown" id="EKyqBsaK_KCr">
<h2>Gene</h2>
<p>In the context of this problem, each gene represents an item and the
chosen amount. If we don't choose an item, its value is equal to zero;
otherwise, it is equal to the amount chosen.</p>
</section>
<div class="cell code" data-execution_count="184" id="S1eCOmfz2Jn8">
<div class="sourceCode" id="cb3"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Gene:</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>  <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, _snack_name: <span class="bu">str</span>, weight: <span class="bu">float</span>):</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>    <span class="va">self</span>.snack_name <span class="op">=</span> _snack_name</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>    <span class="va">self</span>.weight <span class="op">=</span> weight</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>  <span class="kw">def</span> get_weight(<span class="va">self</span>) <span class="op">-&gt;</span> <span class="bu">float</span>:</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="va">self</span>.weight</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>  <span class="kw">def</span> set_weight(<span class="va">self</span>, _weight) <span class="op">-&gt;</span> <span class="va">None</span>:</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>    <span class="va">self</span>.weight <span class="op">=</span> _weight<span class="op">;</span></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>  <span class="kw">def</span> get_value(<span class="va">self</span>) <span class="op">-&gt;</span> <span class="bu">float</span>:</span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> (</span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>        (<span class="va">self</span>.weight <span class="op">/</span> <span class="bu">float</span>(snacks_available_weight[<span class="va">self</span>.snack_name])) <span class="op">*</span></span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>        <span class="bu">float</span>(snacks_values[<span class="va">self</span>.snack_name])</span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a>  <span class="kw">def</span> get_snack_name(<span class="va">self</span>) <span class="op">-&gt;</span> <span class="bu">str</span>:</span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="va">self</span>.snack_name</span></code></pre></div>
</div>
<section id="chromosome" class="cell markdown" id="nzZBJO2t3-sI">
<h2>Chromosome</h2>
<p>A chromosome is a collection of genes that represents a potential
solution to the knapsack problem. It encodes a set of items to be
included in the knapsack.</p>
</section>
<div class="cell code" data-execution_count="185" id="llRvipOU4HZw">
<div class="sourceCode" id="cb4"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Chromosome:</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, _genes: List[Gene]):</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>    <span class="va">self</span>.genes <span class="op">=</span> _genes</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>  <span class="kw">def</span> get_genes(<span class="va">self</span>) <span class="op">-&gt;</span> List[Gene]:</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="va">self</span>.genes</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>  <span class="kw">def</span> get_total_weight(<span class="va">self</span>) <span class="op">-&gt;</span> <span class="bu">float</span>:</span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="bu">reduce</span>(<span class="kw">lambda</span> acc, gene: acc <span class="op">+</span> gene.get_weight(), <span class="va">self</span>.genes, <span class="fl">0.0</span>)</span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>  <span class="kw">def</span> get_total_value(<span class="va">self</span>) <span class="op">-&gt;</span> <span class="bu">float</span>:</span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="bu">reduce</span>(<span class="kw">lambda</span> acc, gene: acc <span class="op">+</span> gene.get_value(), <span class="va">self</span>.genes, <span class="fl">0.0</span>)</span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>  <span class="kw">def</span> get_snacks_count(<span class="va">self</span>) <span class="op">-&gt;</span> <span class="bu">int</span>:</span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="bu">len</span>(<span class="bu">list</span>(<span class="bu">filter</span>(<span class="kw">lambda</span> gene: gene.get_weight() <span class="op">&gt;</span> <span class="dv">0</span>, <span class="va">self</span>.genes)))</span></code></pre></div>
</div>
<section id="generating-initial-population" class="cell markdown"
id="QNslCX9mBgEr">
<h1>Generating Initial Population</h1>
<p>In this step, we should generate a population of chromosomes
stochastically. Counts of our populatin is defined in our <a
href="#scrollTo=k6DVDoLt4kDT">settings</a></p>
</section>
<div class="cell code" data-execution_count="186" id="vI-AYq4UIeZS">
<div class="sourceCode" id="cb5"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> generate_initial_population() <span class="op">-&gt;</span> List[Chromosome]:</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  population <span class="op">=</span> <span class="bu">list</span>()</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> _ <span class="kw">in</span> <span class="bu">range</span>(POPULATION_SIZE):</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>    genes <span class="op">=</span> [</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>      Gene(snack, random.uniform(<span class="dv">0</span>, <span class="bu">float</span>(snacks_available_weight[snack])))</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>      <span class="cf">for</span> snack <span class="kw">in</span> snacks</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>      ]</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>    population.append(Chromosome(genes))</span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> population</span></code></pre></div>
</div>
<section id="fitness-function" class="cell markdown" id="4SL0zS7UNgNH">
<h1>Fitness Function</h1>
<p>Now, we need a fitness function to identify the better chromosome
that models our problem. We define the fitness function as follows:</p>
<ul>
<li>If total value chromosome is less than minimum snack value or total
weight chromosome is more than maximum sancks weight or snacks count is
not snacks count interval, fitness is zero</li>
<li>Otherwise, we consider the fitness score to default to one and then
penalize it whenever it breaks constraints.</li>
</ul>
</section>
<div class="cell code" data-execution_count="187" id="hEvAqYwNTHN3">
<div class="sourceCode" id="cb6"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> fitness(chromosome: Chromosome) <span class="op">-&gt;</span> <span class="bu">float</span>:</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>  total_weight <span class="op">=</span> chromosome.get_total_weight()<span class="op">;</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>  total_value <span class="op">=</span> chromosome.get_total_value()<span class="op">;</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>  snacks_count <span class="op">=</span> chromosome.get_snacks_count()<span class="op">;</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>      total_weight <span class="op">&gt;</span> <span class="bu">float</span>(MAXIMUM_SNACKS_WEIGTHS) <span class="kw">or</span></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>      total_value <span class="op">&lt;</span> <span class="bu">float</span>(MINIMUM_SNACKS_VALUES) <span class="kw">or</span></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>      <span class="kw">not</span> MINIMUM_SNACKS_COUNT <span class="op">&lt;</span> snacks_count <span class="op">&lt;</span> MAXIMUM_SNACKS_COUNT</span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>      ):</span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>     <span class="cf">return</span> sys.float_info.epsilon</span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>  fitness_score <span class="op">=</span> <span class="fl">3.0</span></span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> total_weight <span class="op">&gt;</span> <span class="bu">float</span>(MAXIMUM_SNACKS_WEIGTHS):</span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a>    fitness_score <span class="op">-=</span> (</span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a>        (total_weight <span class="op">-</span> MAXIMUM_SNACKS_WEIGTHS) <span class="op">/</span></span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a>        total_weight</span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> total_value <span class="op">&lt;</span> <span class="bu">float</span>(MINIMUM_SNACKS_VALUES):</span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true" tabindex="-1"></a>    fitness_score <span class="op">-=</span> (</span>
<span id="cb6-22"><a href="#cb6-22" aria-hidden="true" tabindex="-1"></a>        (MINIMUM_SNACKS_VALUES <span class="op">-</span> total_value) <span class="op">/</span></span>
<span id="cb6-23"><a href="#cb6-23" aria-hidden="true" tabindex="-1"></a>        MINIMUM_SNACKS_VALUES</span>
<span id="cb6-24"><a href="#cb6-24" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb6-25"><a href="#cb6-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-26"><a href="#cb6-26" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> <span class="kw">not</span> MINIMUM_SNACKS_COUNT <span class="op">&lt;</span> snacks_count <span class="op">&lt;</span> MAXIMUM_SNACKS_COUNT:</span>
<span id="cb6-27"><a href="#cb6-27" aria-hidden="true" tabindex="-1"></a>    fitness_score <span class="op">-=</span> (</span>
<span id="cb6-28"><a href="#cb6-28" aria-hidden="true" tabindex="-1"></a>        <span class="bu">min</span>(<span class="bu">abs</span>(snacks_count <span class="op">-</span> MINIMUM_SNACKS_COUNT),</span>
<span id="cb6-29"><a href="#cb6-29" aria-hidden="true" tabindex="-1"></a>            <span class="bu">abs</span>(snacks_count <span class="op">-</span> MAXIMUM_SNACKS_COUNT)) <span class="op">/</span></span>
<span id="cb6-30"><a href="#cb6-30" aria-hidden="true" tabindex="-1"></a>             (<span class="bu">len</span>(snacks))</span>
<span id="cb6-31"><a href="#cb6-31" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb6-32"><a href="#cb6-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-33"><a href="#cb6-33" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> fitness_score <span class="op">/</span> <span class="fl">3.0</span></span></code></pre></div>
</div>
<div class="cell markdown" id="i1bEN2Ox3gRF">
<p>Fitness one means that we found a solution for the problem</p>
</div>
<section id="crossover-and-mutation" class="cell markdown"
id="h01U2eSI3ofo">
<h1>Crossover and Mutation</h1>
<p>Selected chromosomes are used to create offspring through genetic
operators such as crossover and mutation. Crossover involves exchanging
genetic material between parent chromosomes to create new offspring
chromosomes, while mutation introduces small random changes to the
chromosomes to maintain diversity in the population.</p>
</section>
<section id="crossover" class="cell markdown" id="Hwt8WmoT5PB1">
<h2>Crossover</h2>
</section>
<div class="cell code" data-execution_count="188" id="Dacp4C6n5SOi">
<div class="sourceCode" id="cb7"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> crossover(chromosome1: Chromosome, chromosome2: Chromosome):</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  genes1 <span class="op">=</span> chromosome1.get_genes()</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  genes2 <span class="op">=</span> chromosome2.get_genes()</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>  i <span class="op">=</span> random.randint(<span class="dv">0</span>, <span class="bu">len</span>(snacks))</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> Chromosome(genes1[:i] <span class="op">+</span> genes2[i:]), Chromosome(genes2[:i] <span class="op">+</span> genes1[i:])</span></code></pre></div>
</div>
<section id="mutation" class="cell markdown" id="5LG22UKdBrIk">
<h2>Mutation</h2>
</section>
<div class="cell code" data-execution_count="189" id="1_SNH-7cBty2">
<div class="sourceCode" id="cb8"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> mutation(chromosome: Chromosome, mutation_rate: <span class="bu">float</span>) <span class="op">-&gt;</span> Chromosome:</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  genes <span class="op">=</span> chromosome.get_genes()</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> gene <span class="kw">in</span> genes:</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> random.choices([<span class="va">True</span>, <span class="va">False</span>], weights<span class="op">=</span>[mutation_rate, <span class="dv">1</span> <span class="op">-</span> mutation_rate]):</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>      <span class="cf">continue</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> gene.get_weight() <span class="op">&gt;</span> <span class="fl">0.0</span>:</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>      gene.set_weight(<span class="fl">0.0</span>)</span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>      gene.set_weight(</span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>          random.uniform(</span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>              <span class="dv">0</span>,</span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>              <span class="bu">float</span>(snacks_available_weight[gene.get_snack_name()])</span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a>          )</span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> chromosome</span></code></pre></div>
</div>
<section id="selection-and-evolution" class="cell markdown"
id="hqBJYV2GkKmV">
<h1>Selection And Evolution</h1>
<p>Now, using the fitness function, we need to approach the selection of
chromosomes, and then, by employing crossover and mutation, create a new
generation.</p>
</section>
<section id="selection" class="cell markdown" id="3GowKPZE2HJQ">
<h2>Selection</h2>
<p>We use <strong>roulette wheel selection</strong> that used fitness
socre to select parents. First, calculate the fitness values for each
individual in the population based on their performance on the fitness
function. Then, Normalize the fitness values to ensure that they sum up
to 1. This step ensures that the probabilities of selection are
proportional to the individuals' fitness values.Imagine a roulette wheel
where each individual's portion of the wheel is proportional to its
fitness value. This means that individuals with higher fitness values
occupy larger portions of the wheel, making them more likely to be
selected</p>
</section>
<div class="cell code" data-execution_count="190" id="crSkYCvB5YhL">
<div class="sourceCode" id="cb9"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> roulette_wheel_selection(population, fitness_values):</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>    total_fitness <span class="op">=</span> <span class="bu">sum</span>(fitness_values)</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>    selection_probabilities <span class="op">=</span> [fitness <span class="op">/</span> total_fitness <span class="cf">for</span> fitness <span class="kw">in</span> fitness_values]</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> random.choices(population, weights<span class="op">=</span>selection_probabilities, k<span class="op">=</span><span class="dv">2</span>)</span></code></pre></div>
</div>
<section id="evolotion" class="cell markdown" id="tm5spFU1LSrf">
<h2>Evolotion</h2>
<p>Using roulette wheel selection, for each generation, we select two
parents. With a probability of p<sub>c</sub>, we apply crossover;
otherwise, we keep them. Then, with a probability of p<sub>m</sub>, we
apply mutation to them and add the resulting chromosome to the next
generation. We repeat this process for population_size time.</p>
</section>
<div class="cell code" data-execution_count="209" id="oZ8ZG-ohRc4N">
<div class="sourceCode" id="cb10"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> evolution(population, p_c, p_m) <span class="op">-&gt;</span> List[Chromosome]:</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>  fitness_values <span class="op">=</span> [fitness(chromosome) <span class="cf">for</span> chromosome <span class="kw">in</span> population]</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>  new_population <span class="op">=</span> <span class="bu">list</span>()</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> _ <span class="kw">in</span> <span class="bu">range</span>(POPULATION_SIZE <span class="op">//</span> <span class="dv">2</span>):</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>    parent1, parent2 <span class="op">=</span> roulette_wheel_selection(population, fitness_values)</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> random.choices([<span class="va">True</span>, <span class="va">False</span>], weights<span class="op">=</span>[p_c, <span class="dv">1</span> <span class="op">-</span> p_c]):</span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>      offspring1, offspring2 <span class="op">=</span> crossover(parent1, parent2)</span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>      offspring1, offspring2 <span class="op">=</span> parent1, parent2</span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a>    offsprings <span class="op">=</span> [mutation(offspring, p_m) <span class="cf">for</span> offspring <span class="kw">in</span> [offspring1, offspring2]]</span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a>    new_population.extend(offsprings)</span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> new_population</span></code></pre></div>
</div>
<section id="genetic-algorithm" class="cell markdown" id="JD_GEdSoV8GA">
<h1>Genetic Algorithm</h1>
<p>Now using above methods, let's implemnt genetic algorithm. Iterate
over generation, apply evolotion on them, if we have chromosme with
fitness one, then we find a solution otherwise we continue this process
until find a solution</p>
</section>
<div class="cell code" data-execution_count="192" id="etp7gyV_XCLU">
<div class="sourceCode" id="cb11"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> genetic_algorithm() <span class="op">-&gt;</span> Union[Chromosome, <span class="va">None</span>]:</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>  population <span class="op">=</span> generate_initial_population()</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> _ <span class="kw">in</span> <span class="bu">range</span>(GENERATIONS_COUNT):</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> chromosome <span class="kw">in</span> population:</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span> fitness(chromosome) <span class="op">==</span> <span class="fl">1.0</span>:</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>          <span class="cf">return</span> chromosome</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>    population <span class="op">=</span> evolution(population, CROSSOVER_RATE, MUTATION_RATE)</span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> <span class="va">None</span></span></code></pre></div>
</div>
<div class="cell markdown" id="fDkRXQlEYJLH">
<p>Now, let's solve problem</p>
</div>
<div class="cell code" data-execution_count="207"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}"
id="44hG815FYMZB" data-outputId="d6f24d85-93d6-4694-f1ca-bed48e5f2c11">
<div class="sourceCode" id="cb12"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> knapsack() <span class="op">-&gt;</span> <span class="va">None</span>:</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>  chromosome <span class="op">=</span> genetic_algorithm()</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> chromosome <span class="kw">is</span> <span class="va">None</span>:</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">&quot;Solution Not Found!&quot;</span>)</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>  <span class="cf">else</span>:</span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> gene <span class="kw">in</span> chromosome.get_genes():</span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>      <span class="bu">print</span>(gene.get_snack_name() <span class="op">+</span> <span class="st">&#39;: &#39;</span> <span class="op">+</span> <span class="bu">str</span>(gene.get_weight()) <span class="op">+</span> <span class="st">&#39;</span><span class="ch">\n</span><span class="st">&#39;</span>)</span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">&#39;Total Weight: &#39;</span> <span class="op">+</span> <span class="bu">str</span>(chromosome.get_total_weight()) <span class="op">+</span> <span class="st">&#39;</span><span class="ch">\n</span><span class="st">&#39;</span>)</span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">&#39;Total Value: &#39;</span> <span class="op">+</span> <span class="bu">str</span>(chromosome.get_total_value()) <span class="op">+</span> <span class="st">&#39;</span><span class="ch">\n</span><span class="st">&#39;</span>)</span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a>knapsack()</span></code></pre></div>
<div class="output stream stdout">
<pre><code>MazMaz: 9.644512972474654

Doogh-e-Abali: 9.000635708825452

Nani: 0.9386078418951987

Jooj: 6.327959635806531

Hot-Dog: 19.0350654733756

Chips: 5.625693996075486

Nooshaba: 10.732265469575196

Shokolat: 0.19397045659055845

Chocoroll: 7.8636710007150326

Cookies: 4.259603336790941

Abnabat: 1.1603519238719593

Adams-Khersi: 13.054876976535656

Popcorn: 15.518283824071387

Pastil: 1.6201735480736281

Tordilla: 8.507851390790218

Masghati: 2.350997954521526

Ghottab: 4.764372270927213

Saghe-Talaei: 5.788857039873448

Choob-Shoor: 7.255755677118354

Total Weight: 133.64350649790805

Total Value: 127.76385187327539

</code></pre>
</div>
</div>
<section id="qeustions" class="cell markdown" id="riXVS2Eko--4">
<h1>Qeustions</h1>
<ol>
<li>What problems does too little or too much initial population size
cause?</li>
</ol>
<blockquote>
<p>If we have too small an initial population, we will have less
diversity, and the only diversity we have is generated by mutation.
Therefore, if our population does not move in the proper direction, we
may reach the answer very late. On the other hand, too much initial
population size increases memory usage and execution time.</p>
</blockquote>
<ol>
<li>If the population size increases in each iteration, what effect does
it have on the accuracy and speed of the algorithm?</li>
</ol>
<blockquote>
<p>It depends on implementation, if we implement and use it properly,
then we have more diversity that helps crossover to have a better
result. On the other hand it may cuase redundant computations and
increases execution time</p>
</blockquote>
<ol>
<li>Compare the effect of each operation of crossover and mutation. Can
only one of them used? Why?</li>
</ol>
<blockquote>
<ul>
<li>Crossover: Crossover is responsible for combining genetic material
from two parent individuals to create new offspring. It promotes
exploration of the search space by exchanging information between
individuals. It helps in preserving good solutions found so far and can
lead to the creation of new, potentially better solutions.</li>
</ul>
</blockquote>
<ul>
<li>Mutation: Mutation introduces random changes to individual
chromosomes, promoting genetic diversity. It helps in escaping local
optima by exploring new areas of the search space. It can prevent
premature convergence by introducing small, random changes to individual
solutions. While both crossover and mutation contribute to the
effectiveness of genetic algorithms, it is theoretically possible to use
only one of them. However, doing so may result in suboptimal performance
or failure to find optimal solutions, depending on the characteristics
of the problem being solved. <br> Using only crossover may lead to
premature convergence if the initial population lacks diversity, as
there are no mechanisms to introduce new genetic material. <br> Using
only mutation may result in slow convergence or difficulty in finding
good solutions, as there is no mechanism for combining information from
different individuals.</li>
</ul>
<ol>
<li>In your opinion, what solutions are available to obtain the answer
to this particular problem more quickly?</li>
</ol>
<blockquote>
<p>Change selection approach, for example use elitisim to prevent loose
few good solutions, also change fitness function to consider parameters
like boundary for snacks weight and value and count to check that we can
improve this chromosome or not</p>
</blockquote>
<ol>
<li>Despite the use of these methods, it is still possible that the
chromosomes don't change after a few more steps. Explain the reason for
this and the problems it causes. What do you suggest to solve it?</li>
</ol>
<blockquote>
<p>It may because don't implement crossover or mutation correctly. Also,
it may have happened because of our selection that we only have
high-ranked chromosomes and so we lose our diversity after a few steps.
For solving this problem one of our approaches is to select the
chromosomes that the lower-ranked chromosomes are in the population to7.
prevent losing our diversity.</p>
</blockquote>
<ol>
<li>What solution do you suggest to end the program if the problem has
no answer?</li>
</ol>
<blockquote>
<p>First, we should have a time limit or iteration limit for our
algorithm to be sure that our algorithm is halted. then we could return
the most fitted chromosome in our population as an optimal
chromosome.</p>
</blockquote>
</section>
</body>
</html>
